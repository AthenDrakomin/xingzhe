# CMS 部署检查清单

## 部署前检查

### 1. Firebase项目配置
- [ ] Firebase项目已创建
- [ ] Firestore Database已启用
- [ ] Authentication已启用（邮箱/密码登录）
- [ ] Cloud Storage已启用
- [ ] Firebase安全规则已部署

### 2. 环境变量配置
- [ ] `.env`文件已创建并配置
- [ ] Firebase配置参数已填入
- [ ] 所有必需的环境变量已设置

### 3. 代码检查
- [ ] 所有测试已通过
- [ ] 无编译错误
- [ ] 无类型错误
- [ ] 代码格式化已完成

### 4. 权限配置
- [ ] 用户角色已定义
- [ ] 权限矩阵已验证
- [ ] 安全规则与应用层权限一致

## 部署步骤

### 1. 本地测试
- [ ] 本地开发服务器运行正常
- [ ] 所有功能模块测试通过
- [ ] 移动端适配检查完成

### 2. 构建检查
- [ ] 生产构建成功
- [ ] 构建产物大小合理
- [ ] 无构建警告

### 3. GitHub Actions配置
- [ ] 部署工作流文件已推送
- [ ] 仓库密钥已配置
- [ ] 工作流权限已设置

### 4. Firebase部署（可选）
- [ ] Firebase CLI已安装
- [ ] 已登录Firebase账户
- [ ] Firebase部署配置已完成

## 部署后验证

### 1. 功能验证
- [ ] 网站可正常访问
- [ ] CMS管理后台可正常登录
- [ ] 文章创建/编辑/删除功能正常
- [ ] 页面管理功能正常
- [ ] 媒体上传/删除功能正常
- [ ] 用户管理功能正常（仅管理员）

### 2. 安全性验证
- [ ] 未授权用户无法访问管理功能
- [ ] 权限控制按预期工作
- [ ] 数据库规则生效
- [ ] 存储规则生效

### 3. 性能验证
- [ ] 页面加载速度合理
- [ ] 无明显的性能瓶颈
- [ ] 移动端体验良好

## 故障排除

### 常见问题
1. **网站无法访问**
   - 检查GitHub Pages设置
   - 确认部署工作流成功执行

2. **CMS无法登录**
   - 检查Firebase Authentication配置
   - 确认环境变量正确设置

3. **内容无法加载**
   - 检查Firestore规则
   - 确认数据库索引已创建

4. **媒体上传失败**
   - 检查Cloud Storage规则
   - 确认存储桶权限设置

### 支持资源
- Firebase官方文档
- GitHub Actions文档
- 项目维护者